import{N as kt}from"./NavBar-DZGeI4u5.js";import{c as ot,t as O,n as tt,m as G,d as lt,r as P,I as ct,J as xt,K as Tt,b,e as rt,w as L,L as Ct,o as X,M as It,N as St,O as Rt,Q as Kt,R as Wt,f as T,T as et,U as ut,V as Ut,W as Lt,X as z,Y as Pt,Z as Y,g as ft,$ as Et,_ as Nt,a0 as nt,i as Ot,l as A,q as m,s as y,v as st,x as $,S as zt,y as t,z as l,G as At,H as Mt}from"./index-Cv6Vz8a5.js";import{a as Bt,g as Dt,d as Vt,f as Gt}from"./api-B4Bpbcl4.js";const[dt,M]=ot("swipe"),Yt={loop:O,width:tt,height:tt,vertical:Boolean,autoplay:G(0),duration:G(500),touchable:O,lazyRender:Boolean,initialSwipe:G(0),indicatorColor:String,showIndicators:O,stopPropagation:O},vt=Symbol(dt);var $t=lt({name:dt,props:Yt,emits:["change","dragStart","dragEnd"],setup(e,{emit:a,slots:_}){const s=P(),v=P(),i=ct({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let k=!1;const d=xt(),{children:p,linkChildren:f}=Tt(vt),n=b(()=>p.length),c=b(()=>i[e.vertical?"height":"width"]),g=b(()=>e.vertical?d.deltaY.value:d.deltaX.value),C=b(()=>i.rect?(e.vertical?i.rect.height:i.rect.width)-c.value*n.value:0),B=b(()=>c.value?Math.ceil(Math.abs(C.value)/c.value):n.value),D=b(()=>n.value*c.value),S=b(()=>(i.active+n.value)%n.value),H=b(()=>{const o=e.vertical?"vertical":"horizontal";return d.direction.value===o}),gt=b(()=>{const o={transitionDuration:`${i.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+i.offset.toFixed(2)}px)`};if(c.value){const u=e.vertical?"height":"width",r=e.vertical?"width":"height";o[u]=`${D.value}px`,o[r]=e[r]?`${e[r]}px`:""}return o}),mt=o=>{const{active:u}=i;return o?e.loop?Y(u+o,-1,n.value):Y(u+o,0,B.value):u},j=(o,u=0)=>{let r=o*c.value;e.loop||(r=Math.min(r,-C.value));let w=u-r;return e.loop||(w=Y(w,C.value,0)),w},x=({pace:o=0,offset:u=0,emitChange:r})=>{if(n.value<=1)return;const{active:w}=i,h=mt(o),U=j(h,u);if(e.loop){if(p[0]&&U!==C.value){const V=U<C.value;p[0].setOffset(V?D.value:0)}if(p[n.value-1]&&U!==0){const V=U>0;p[n.value-1].setOffset(V?-D.value:0)}}i.active=h,i.offset=U,r&&h!==w&&a("change",S.value)},N=()=>{i.swiping=!0,i.active<=-1?x({pace:n.value}):i.active>=n.value&&x({pace:-n.value})},ht=()=>{N(),d.reset(),z(()=>{i.swiping=!1,x({pace:-1,emitChange:!0})})},F=()=>{N(),d.reset(),z(()=>{i.swiping=!1,x({pace:1,emitChange:!0})})};let q;const K=()=>clearTimeout(q),W=()=>{K(),+e.autoplay>0&&n.value>1&&(q=setTimeout(()=>{F(),W()},+e.autoplay))},R=(o=+e.initialSwipe)=>{if(!s.value)return;const u=()=>{var r,w;if(!et(s)){const h={width:s.value.offsetWidth,height:s.value.offsetHeight};i.rect=h,i.width=+((r=e.width)!=null?r:h.width),i.height=+((w=e.height)!=null?w:h.height)}n.value&&(o=Math.min(n.value-1,o),o===-1&&(o=n.value-1)),i.active=o,i.swiping=!0,i.offset=j(o),p.forEach(h=>{h.setOffset(0)}),W()};et(s)?ut().then(u):u()},J=()=>R(i.active);let Q;const _t=o=>{!e.touchable||o.touches.length>1||(d.start(o),k=!1,Q=Date.now(),K(),N())},pt=o=>{e.touchable&&i.swiping&&(d.move(o),H.value&&(!e.loop&&(i.active===0&&g.value>0||i.active===n.value-1&&g.value<0)||(Pt(o,e.stopPropagation),x({offset:g.value}),k||(a("dragStart",{index:S.value}),k=!0))))},Z=()=>{if(!e.touchable||!i.swiping)return;const o=Date.now()-Q,u=g.value/o;if((Math.abs(u)>.25||Math.abs(g.value)>c.value/2)&&H.value){const w=e.vertical?d.offsetY.value:d.offsetX.value;let h=0;e.loop?h=w>0?g.value>0?-1:1:0:h=-Math[g.value>0?"ceil":"floor"](g.value/c.value),x({pace:h,emitChange:!0})}else g.value&&x({pace:0});k=!1,i.swiping=!1,a("dragEnd",{index:S.value}),W()},wt=(o,u={})=>{N(),d.reset(),z(()=>{let r;e.loop&&o===n.value?r=i.active===0?0:o:r=o%n.value,u.immediate?z(()=>{i.swiping=!1}):i.swiping=!1,x({pace:r-i.active,emitChange:!0})})},yt=(o,u)=>{const r=u===S.value,w=r?{backgroundColor:e.indicatorColor}:void 0;return T("i",{style:w,class:M("indicator",{active:r})},null)},bt=()=>{if(_.indicator)return _.indicator({active:S.value,total:n.value});if(e.showIndicators&&n.value>1)return T("div",{class:M("indicators",{vertical:e.vertical})},[Array(n.value).fill("").map(yt)])};return rt({prev:ht,next:F,state:i,resize:J,swipeTo:wt}),f({size:c,props:e,count:n,activeIndicator:S}),L(()=>e.initialSwipe,o=>R(+o)),L(n,()=>R(i.active)),L(()=>e.autoplay,W),L([Ut,Lt,()=>e.width,()=>e.height],J),L(Ct(),o=>{o==="visible"?W():K()}),X(R),It(()=>R(i.active)),St(()=>R(i.active)),Rt(K),Kt(K),Wt("touchmove",pt,{target:v}),()=>{var o;return T("div",{ref:s,class:M()},[T("div",{ref:v,style:gt.value,class:M("track",{vertical:e.vertical}),onTouchstartPassive:_t,onTouchend:Z,onTouchcancel:Z},[(o=_.default)==null?void 0:o.call(_)]),bt()])}}});const at=ft($t),[Xt,Ht]=ot("swipe-item");var jt=lt({name:Xt,setup(e,{slots:a}){let _;const s=ct({offset:0,inited:!1,mounted:!1}),{parent:v,index:i}=Et(vt);if(!v)return;const k=b(()=>{const f={},{vertical:n}=v.props;return v.size.value&&(f[n?"height":"width"]=`${v.size.value}px`),s.offset&&(f.transform=`translate${n?"Y":"X"}(${s.offset}px)`),f}),d=b(()=>{const{loop:f,lazyRender:n}=v.props;if(!n||_)return!0;if(!s.mounted)return!1;const c=v.activeIndicator.value,g=v.count.value-1,C=c===0&&f?g:c-1,B=c===g&&f?0:c+1;return _=i.value===c||i.value===C||i.value===B,_}),p=f=>{s.offset=f};return X(()=>{ut(()=>{s.mounted=!0})}),rt({setOffset:p}),()=>{var f;return T("div",{class:Ht(),style:k.value},[d.value?(f=a.default)==null?void 0:f.call(a):null])}}});const it=ft(jt),Ft=""+new URL("../imgs/task1.png",import.meta.url).href,I=""+new URL("../imgs/coin.png",import.meta.url).href,E=""+new URL("../imgs/done.png",import.meta.url).href,qt=""+new URL("../imgs/task2.png",import.meta.url).href,Jt=""+new URL("../imgs/task3.png",import.meta.url).href,Qt=""+new URL("../imgs/task4.png",import.meta.url).href,Zt=""+new URL("../imgs/task5.png",import.meta.url).href,te=""+new URL("../imgs/task6.png",import.meta.url).href,ee=""+new URL("../imgs/task7.png",import.meta.url).href,ne={components:{NavbarVue:kt,[at.name]:at,[it.name]:it,[nt.name]:nt},setup(){const e=Ot(),a=P({}),_=P({}),s=["app:new:user","app:tg:channel","app:band:ton","app:follow:tw","app:tg:member","app:tg:register","app:invite:earn","app:tgchannel:link","app:tw:url"],v=P([]);async function i(){const n=await Bt();n.code==200&&(a.value=n.data)}async function k(){const n=await Dt(s);console.log(n),n.code==200&&(_.value=n.data)}async function d(){const n=await Vt("app_banner");n.code==200&&(v.value=n.data)}X(()=>{i(),k(),d()});function p(n,c){console.log(n),window.open(n),c==2&&Gt({type:c}).then(g=>{g.code==200})}function f(n){e.push(n)}return{banner:v,jumpto:f,userInfo:a,config:_,configKey:s,toWeb:p}}},se={class:"page"},ae={class:"swiper"},ie=["src"],oe={class:"flex-bw titleWrap"},le={class:"taskWrap flex-bw"},ce={class:"flex left"},re={class:"flex1"},ue={class:"flex"},fe={key:0,src:E,alt:""},de={key:1},ve={class:"taskWrap flex-bw"},ge={class:"flex left"},me={class:"flex1"},he={class:"flex"},_e={key:0,src:E,alt:""},pe={class:"taskWrap flex-bw"},we={class:"flex left"},ye={class:"flex1"},be={class:"flex"},ke={key:0,src:E,alt:""},xe={key:1},Te={class:"taskWrap flex-bw"},Ce={class:"flex left"},Ie={class:"flex1"},Se={class:"flex"},Re={key:0,src:E,alt:""},Ke={class:"taskWrap flex-bw"},We={class:"flex left"},Ue={class:"flex1"},Le={class:"flex"},Pe={key:0,src:E,alt:""},Ee={key:1},Ne={class:"taskWrap flex-bw"},Oe={class:"flex left"},ze={class:"flex1"},Ae={class:"flex"},Me={class:"flex receive"},Be={class:"yellow"},De={class:"taskWrap flex-bw"},Ve={class:"flex left"},Ge={class:"flex1"},Ye={class:"flex"},$e={class:"flex receive"},Xe={class:"yellow"};function He(e,a,_,s,v,i){const k=A("NavbarVue"),d=A("van-swipe-item"),p=A("van-swipe"),f=A("van-icon");return m(),y("div",se,[(m(),st(zt,null,{default:$(()=>[T(k)]),_:1})),t("div",ae,[T(p,{autoplay:3e3,"lazy-render":"","indicator-color":"#fff"},{default:$(()=>[(m(!0),y(At,null,Mt(s.banner,(n,c)=>(m(),st(d,{key:c},{default:$(()=>[t("img",{src:n.dictValue},null,8,ie)]),_:2},1024))),128))]),_:1})]),t("div",oe,[t("span",null,l(e.$t("KONG任务")),1),t("div",{class:"flex",onClick:a[0]||(a[0]=n=>s.jumpto("/kong"))},[t("span",null,l(e.$t("KONG明细")),1),T(f,{name:"arrow"})])]),t("div",le,[t("div",ce,[a[4]||(a[4]=t("img",{src:Ft,alt:""},null,-1)),t("div",re,[t("span",null,l(e.$t("新用户赠送")),1),t("div",ue,[a[3]||(a[3]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[0]]),1)])])]),s.userInfo.newUser==1?(m(),y("img",fe)):(m(),y("button",de,l(e.$t("去完成")),1))]),t("div",ve,[t("div",ge,[a[6]||(a[6]=t("img",{src:qt,alt:""},null,-1)),t("div",me,[t("span",null,l(e.$t("加入TG频道")),1),t("div",he,[a[5]||(a[5]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[1]]),1)])])]),s.userInfo.enterTg==1?(m(),y("img",_e)):(m(),y("button",{key:1,onClick:a[1]||(a[1]=n=>s.toWeb(s.config[s.configKey[7]]))},l(e.$t("去加入")),1))]),t("div",pe,[t("div",we,[a[8]||(a[8]=t("img",{src:Jt,alt:""},null,-1)),t("div",ye,[t("span",null,l(e.$t("绑定TON钱包")),1),t("div",be,[a[7]||(a[7]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[2]]),1)])])]),s.userInfo.bindTon==1?(m(),y("img",ke)):(m(),y("button",xe,l(e.$t("去完成")),1))]),t("div",Te,[t("div",Ce,[a[10]||(a[10]=t("img",{src:Qt,alt:""},null,-1)),t("div",Ie,[t("span",null,l(e.$t("关注游戏推特")),1),t("div",Se,[a[9]||(a[9]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[3]]),1)])])]),s.userInfo.followTwitter==1?(m(),y("img",Re)):(m(),y("button",{key:1,onClick:a[2]||(a[2]=n=>s.toWeb(s.config[s.configKey[8]],2))},l(e.$t("去关注")),1))]),t("div",Ke,[t("div",We,[a[12]||(a[12]=t("img",{src:Zt,alt:""},null,-1)),t("div",Ue,[t("span",null,l(e.$t("TG会员")),1),t("div",Le,[a[11]||(a[11]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[4]]),1)])])]),s.userInfo.tgMember?(m(),y("img",Pe)):(m(),y("button",Ee,l(e.$t("去完成")),1))]),t("div",Ne,[t("div",Oe,[a[14]||(a[14]=t("img",{src:te,alt:""},null,-1)),t("div",ze,[t("span",null,l(e.$t("TG注册时间每增加一个月")),1),t("div",Ae,[a[13]||(a[13]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[5]]),1)])])]),t("div",Me,[t("span",null,l(e.$t("累计获得"))+"：",1),t("span",Be,l(s.userInfo.tgRegisterAmount),1)])]),t("div",De,[t("div",Ve,[a[16]||(a[16]=t("img",{src:ee,alt:""},null,-1)),t("div",Ge,[t("span",null,l(e.$t("每邀请一个好友")),1),t("div",Ye,[a[15]||(a[15]=t("img",{src:I,alt:""},null,-1)),t("span",null,"+"+l(s.config[s.configKey[6]]),1)])])]),t("div",$e,[t("span",null,l(e.$t("累计获得"))+"：",1),t("span",Xe,l(s.userInfo.inviteEarn),1)])])])}const Je=Nt(ne,[["render",He],["__scopeId","data-v-9cfff7a1"]]);export{Je as default};

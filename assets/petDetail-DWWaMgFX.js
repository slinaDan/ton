import{_ as D,i as b,a2 as I,r as f,o as N,l as h,q as n,s as a,f as w,y as l,G as B,H as L,v as S,C as r,z as t}from"./index-Cv6Vz8a5.js";import{P as q}from"./api-B4Bpbcl4.js";import{N as m}from"./index-BcwctHmq.js";import{E as k}from"./index-CRSyhbBv.js";import"./use-placeholder-C8hS1JEN.js";const E={components:{[m.name]:m,[k.name]:k},setup(){const e=b(),i=I();console.log(i.query.petId);const _=i.query.petId,s=f([]);f(null);const d=f(1),p=f(0);async function u(){const c=await q(_||"",d.value);c.code==200&&(p.value=c.total,d.value==1&&(s.value=[]),s.value=s.value.concat(...c.rows))}N(()=>{u()});function v(c){const y=c.target;if(y){const{scrollTop:g,scrollHeight:$,clientHeight:C}=y;g+C>=$&&(console.log("已经滚动到底部",p.value,s.value.length),p.value>s.value.length&&(d.value+=1,u()))}}function o(){e.back()}return{onClickLeft:o,petDetail:s,handleScroll:v}}},H={class:"page"},M={class:"no flex"},V={class:"flex"},P=["src"],R={class:"flex1"},T={class:"flex-bw fs-13"},z={key:0},F={key:1},G={key:2},W={key:3},j={key:4},A={key:5},J={class:"fs-13 date"};function K(e,i,_,s,d,p){const u=h("van-nav-bar"),v=h("van-empty");return n(),a("div",H,[w(u,{fixed:"",title:e.$t("宠物明细"),"left-arrow":"",onClickLeft:s.onClickLeft,border:!1},null,8,["title","onClickLeft"]),l("div",{class:"petWrap flex1 scroll-container",ref:"scrollContainer",onScroll:i[0]||(i[0]=(...o)=>s.handleScroll&&s.handleScroll(...o))},[(n(!0),a(B,null,L(s.petDetail,(o,c)=>(n(),a("div",{class:"wrap flex1",key:o.id},[l("div",M,t(e.$t("宠物编号"))+"："+t(o.petNo),1),l("div",V,[l("img",{src:o.pet.image,alt:""},null,8,P),l("div",R,[l("span",null,t(o.pet.name),1),l("div",T,[o.type==1?(n(),a("span",z,t(e.$t("类型"))+"："+t(e.$t("孵化")),1)):r("",!0),o.type==2?(n(),a("span",F,t(e.$t("类型"))+"："+t(e.$t("转赠")),1)):r("",!0),o.type==3?(n(),a("span",G,t(e.$t("类型"))+"："+t(e.$t("转入")),1)):r("",!0),o.type==4?(n(),a("span",W,t(e.$t("类型"))+"："+t(e.$t("合成")),1)):r("",!0),o.type==5?(n(),a("span",j,t(e.$t("类型"))+"："+t(e.$t("合成扣减")),1)):r("",!0),o.sendMemerId?(n(),a("span",A,t(e.$t("转入人"))+"："+t(o.sendMemerId),1)):r("",!0)]),l("span",J,t(e.$t("获得时间"))+"："+t(o.createTime),1)])])]))),128)),s.petDetail.length==0?(n(),S(v,{key:0,description:e.$t("暂无数据")},null,8,["description"])):r("",!0)],544)])}const Z=D(E,[["render",K],["__scopeId","data-v-efa7b9d2"]]);export{Z as default};

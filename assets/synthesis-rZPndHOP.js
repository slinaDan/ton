import{N as F}from"./NavBar-DZGeI4u5.js";import{M as G}from"./MyTabbar-Czbfr-sw.js";import{_ as K,P as I,i as O,a2 as x,r as m,k as N,o as P,l as g,q as n,s as i,v as y,x as v,S as _,y as t,z as r,C as h,f as A,A as U}from"./index-Cv6Vz8a5.js";import{e as q,a as S,s as T}from"./api-B4Bpbcl4.js";import{_ as V}from"./one-CXrO1K9a.js";import"./use-placeholder-C8hS1JEN.js";const w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAmtJREFUSEu9l0GITlEUx3+nLCwtKFMslIXCTllIURYWJmaF3QhRFihFUSiKUijiq5HZYSWxsFCmzEayQlkoC8qUWczSQh3vP9339eZ9731z3nv6bn19r94953fPufec+39GYLj7CmAfsBfYDGwCVifTOeAn8B54Dbwxsz/LubVhE9x9FXAGOA3oOTIWgB5wy8zm6wxqwe4+CdxuACwzlImzZva0Cj4ATml9kKXvWCS8wJyHaQFL0r8E7O4rgedpLwM+w1O09+Nm9je3KIMV6cmgu9yJDl5kTJnZ8QGwux8CnkQ8AJ+B3YCg74CNQbsjZjatuYsRu7tK4xOwNujgepa2S8n2GnAxaKcTv8HMFnLwDeB80FjTrprZlQTW/+WmtpYO1K+GZdMFrKjXCKyO9LLBirtGLPsJge8Bp0YM7gn8Adg2YvCswNrfqtP8DXgG9Iu+sLgZM5tJh2sXoF95qNT2A1sq3s0L7BUvBFtvZuq3rUcqUwU20GSGgceG3S6R1bi7MvmjDvy7cLcW/ak7veiY6oM1XW1OEc8COyIRFOZ0qWO5+Siwrq0TIwbfF/hAugqbsLtGPC6wTpz2OSptunYutcyx/JJo1ehbXhI3MzF4IQcr2u8Nom57LaovbFWZ9hVIEnePgxutrrYzldrbmu5U5epwLv7K0mcqK/ijQXhT6dPLOmFfVpXBOmi6IiXc/+eQ2JsoCv0qeSuleadFbdct9JEEZFFhauIwQS/xJ0Ef1WFlsMpGgn5R3JXHcp8wEoHnUvTROhfwrrImUVeXhqHg3Cjpsj1p77cD6wqZ0PfRV+BL+mh7VU5rFfwfsEcEPYWugasAAAAASUVORK5CYII=",j={components:{NavbarVue:F,MyTabbarVue:G,[I.name]:I},setup(){const a=O(),s=x(),C=m(1);let e=m(!1);const c=m(0),u=m(0);console.log(s.query.petItem);const d=s.query.petItem?JSON.parse(s.query.petItem):"",{locale:p}=N();async function f(){const o=await q("app:synthesis:kong");o.code==200&&(c.value=o.data)}async function l(){const o=await S();o.code==200&&(u.value=o.data.kongAmount)}P(()=>{f(),l()});function b(o){a.push(o)}function k(){if(d)T({petId:d.id}).then(o=>{o.code==200&&(e.value=!0,setTimeout(()=>{e.value=!1},950))});else return U(p.value=="en"?"Please select a pet":"请选择宠物")}return{jumpto:b,active:C,showGif:e,onConfirm:k,petItem:d,kong:c,userKong:u}}},B={class:"page flex1"},L={key:0,class:"flex1 addPet"},M=["src"],E={key:2,class:"flex adds"},J={class:"flex1 addPet"},Y=["src"],R={class:"flex1 addPet"},X=["src"],Q={key:3,class:"flex adds"},W={class:"tip flex1"},Z={key:0,class:"red"},z={key:0,class:"gif",src:V,alt:""};function D(a,s,C,e,c,u){const d=g("NavbarVue"),p=g("MyTabbarVue"),f=g("van-popup");return n(),i("div",B,[(n(),y(_,null,{default:v(()=>[A(d)]),_:1})),(n(),y(_,null,{default:v(()=>[A(p,{active:e.active},null,8,["active"])]),_:1})),e.petItem?(n(),i("div",L,[t("img",{class:"petImg",src:e.petItem.image,alt:""},null,8,M)])):(n(),i("div",{key:1,class:"flex1 addPet",onClick:s[0]||(s[0]=l=>e.jumpto("/addPet"))},[s[5]||(s[5]=t("img",{src:w,alt:""},null,-1)),t("span",null,r(a.$t("添加宠物")),1)])),e.petItem?(n(),i("div",E,[t("div",J,[t("img",{class:"petImg",src:e.petItem.image,alt:""},null,8,Y)]),t("div",R,[t("img",{class:"petImg",src:e.petItem.image,alt:""},null,8,X)])])):(n(),i("div",Q,[t("div",{class:"flex1 addPet",onClick:s[1]||(s[1]=l=>e.jumpto("/addPet"))},[s[6]||(s[6]=t("img",{src:w,alt:""},null,-1)),t("span",null,r(a.$t("添加宠物")),1)]),t("div",{class:"flex1 addPet",onClick:s[2]||(s[2]=l=>e.jumpto("/addPet"))},[s[7]||(s[7]=t("img",{src:w,alt:""},null,-1)),t("span",null,r(a.$t("添加宠物")),1)])])),t("button",{onClick:s[3]||(s[3]=(...l)=>e.onConfirm&&e.onConfirm(...l))},r(a.$t("合成")),1),t("div",W,[t("span",null,r(a.$t("本次合成所需"))+" KONG："+r(e.kong)+" KONG",1),Number(e.userKong)<Number(e.kong)?(n(),i("span",Z,r(a.$t("KONG不足"))+"！！",1)):h("",!0)]),A(f,{show:e.showGif,"onUpdate:show":s[4]||(s[4]=l=>e.showGif=l),round:""},{default:v(()=>[e.showGif?(n(),i("img",z)):h("",!0)]),_:1},8,["show"])])}const ne=K(j,[["render",D],["__scopeId","data-v-da0dc75e"]]);export{ne as default};

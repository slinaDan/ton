import{r as Oe,p as j}from"./vite-plugin-node-polyfills.B4DYk75w.js";import{c as ie}from"./asn1.js.CF-FLH_W.js";import{r as Ve}from"./events.DQ172AOg.js";import{r as Ye}from"./util.B7D3mE8i.js";import{r as J}from"./inherits.BICa84dG.js";import{r as Pe}from"./string_decoder.Bvf-nAzU.js";import{r as Qe}from"./util-deprecate.CbETmsYd.js";var ce,De;function Ke(){return De||(De=1,ce=Ve().EventEmitter),ce}var pe,Ne;function Ze(){if(Ne)return pe;Ne=1;function L(p,y){var s=Object.keys(p);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(p);y&&(c=c.filter(function(R){return Object.getOwnPropertyDescriptor(p,R).enumerable})),s.push.apply(s,c)}return s}function T(p){for(var y=1;y<arguments.length;y++){var s=arguments[y]!=null?arguments[y]:{};y%2?L(Object(s),!0).forEach(function(c){E(p,c,s[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach(function(c){Object.defineProperty(p,c,Object.getOwnPropertyDescriptor(s,c))})}return p}function E(p,y,s){return y=h(y),y in p?Object.defineProperty(p,y,{value:s,enumerable:!0,configurable:!0,writable:!0}):p[y]=s,p}function C(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function q(p,y){for(var s=0;s<y.length;s++){var c=y[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(p,h(c.key),c)}}function l(p,y,s){return y&&q(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),p}function h(p){var y=a(p,"string");return typeof y=="symbol"?y:String(y)}function a(p,y){if(typeof p!="object"||p===null)return p;var s=p[Symbol.toPrimitive];if(s!==void 0){var c=s.call(p,y||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(p)}var n=Oe,u=n.Buffer,g=Ye(),b=g.inspect,d=b&&b.custom||"inspect";function M(p,y,s){u.prototype.copy.call(p,y,s)}return pe=function(){function p(){C(this,p),this.head=null,this.tail=null,this.length=0}return l(p,[{key:"push",value:function(s){var c={data:s,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(s){var c={data:s,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(this.length===0)return"";for(var c=this.head,R=""+c.data;c=c.next;)R+=s+c.data;return R}},{key:"concat",value:function(s){if(this.length===0)return u.alloc(0);for(var c=u.allocUnsafe(s>>>0),R=this.head,w=0;R;)M(R.data,c,w),w+=R.data.length,R=R.next;return c}},{key:"consume",value:function(s,c){var R;return s<this.head.data.length?(R=this.head.data.slice(0,s),this.head.data=this.head.data.slice(s)):s===this.head.data.length?R=this.shift():R=c?this._getString(s):this._getBuffer(s),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(s){var c=this.head,R=1,w=c.data;for(s-=w.length;c=c.next;){var v=c.data,m=s>v.length?v.length:s;if(m===v.length?w+=v:w+=v.slice(0,s),s-=m,s===0){m===v.length?(++R,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=v.slice(m));break}++R}return this.length-=R,w}},{key:"_getBuffer",value:function(s){var c=u.allocUnsafe(s),R=this.head,w=1;for(R.data.copy(c),s-=R.data.length;R=R.next;){var v=R.data,m=s>v.length?v.length:s;if(v.copy(c,c.length-s,0,m),s-=m,s===0){m===v.length?(++w,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=v.slice(m));break}++w}return this.length-=w,c}},{key:d,value:function(s,c){return b(this,T(T({},c),{},{depth:0,customInspect:!1}))}}]),p}(),pe}var be,qe;function $e(){if(qe)return be;qe=1;function L(h,a){var n=this,u=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return u||g?(a?a(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,j.nextTick(q,this,h)):j.nextTick(q,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(b){!a&&b?n._writableState?n._writableState.errorEmitted?j.nextTick(E,n):(n._writableState.errorEmitted=!0,j.nextTick(T,n,b)):j.nextTick(T,n,b):a?(j.nextTick(E,n),a(b)):j.nextTick(E,n)}),this)}function T(h,a){q(h,a),E(h)}function E(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function C(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function q(h,a){h.emit("error",a)}function l(h,a){var n=h._readableState,u=h._writableState;n&&n.autoDestroy||u&&u.autoDestroy?h.destroy(a):h.emit("error",a)}return be={destroy:L,undestroy:C,errorOrDestroy:l},be}var _e={},Ce;function K(){if(Ce)return _e;Ce=1;function L(a,n){a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.__proto__=n}var T={};function E(a,n,u){u||(u=Error);function g(d,M,p){return typeof n=="string"?n:n(d,M,p)}var b=function(d){L(M,d);function M(p,y,s){return d.call(this,g(p,y,s))||this}return M}(u);b.prototype.name=u.name,b.prototype.code=a,T[a]=b}function C(a,n){if(Array.isArray(a)){var u=a.length;return a=a.map(function(g){return String(g)}),u>2?"one of ".concat(n," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(n," ").concat(a[0]," or ").concat(a[1]):"of ".concat(n," ").concat(a[0])}else return"of ".concat(n," ").concat(String(a))}function q(a,n,u){return a.substr(0,n.length)===n}function l(a,n,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-n.length,u)===n}function h(a,n,u){return typeof u!="number"&&(u=0),u+n.length>a.length?!1:a.indexOf(n,u)!==-1}return E("ERR_INVALID_OPT_VALUE",function(a,n){return'The value "'+n+'" is invalid for option "'+a+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(a,n,u){var g;typeof n=="string"&&q(n,"not ")?(g="must not be",n=n.replace(/^not /,"")):g="must be";var b;if(l(a," argument"))b="The ".concat(a," ").concat(g," ").concat(C(n,"type"));else{var d=h(a,".")?"property":"argument";b='The "'.concat(a,'" ').concat(d," ").concat(g," ").concat(C(n,"type"))}return b+=". Received type ".concat(typeof u),b},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_e.codes=T,_e}var ge,je;function Xe(){if(je)return ge;je=1;var L=K().codes.ERR_INVALID_OPT_VALUE;function T(C,q,l){return C.highWaterMark!=null?C.highWaterMark:q?C[l]:null}function E(C,q,l,h){var a=T(q,h,l);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var n=h?l:"highWaterMark";throw new L(n,a)}return Math.floor(a)}return C.objectMode?16:16*1024}return ge={getHighWaterMark:E},ge}var ye,Ie;function et(){if(Ie)return ye;Ie=1,ye=N;function L(i){var r=this;this.next=null,this.entry=null,this.finish=function(){ue(r,i)}}var T;N.WritableState=O;var E={deprecate:Qe()},C=Ke(),q=Oe.Buffer,l=(typeof ie<"u"?ie:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(i){return q.from(i)}function a(i){return q.isBuffer(i)||i instanceof l}var n=$e(),u=Xe(),g=u.getHighWaterMark,b=K().codes,d=b.ERR_INVALID_ARG_TYPE,M=b.ERR_METHOD_NOT_IMPLEMENTED,p=b.ERR_MULTIPLE_CALLBACK,y=b.ERR_STREAM_CANNOT_PIPE,s=b.ERR_STREAM_DESTROYED,c=b.ERR_STREAM_NULL_VALUES,R=b.ERR_STREAM_WRITE_AFTER_END,w=b.ERR_UNKNOWN_ENCODING,v=n.errorOrDestroy;J()(N,C);function m(){}function O(i,r,o){T=T||z(),i=i||{},typeof o!="boolean"&&(o=r instanceof T),this.objectMode=!!i.objectMode,o&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=g(this,i,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=i.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){fe(r,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}O.prototype.getBuffer=function(){for(var r=this.bufferedRequest,o=[];r;)o.push(r),r=r.next;return o},function(){try{Object.defineProperty(O.prototype,"buffer",{get:E.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(r){return W.call(this,r)?!0:this!==N?!1:r&&r._writableState instanceof O}})):W=function(r){return r instanceof this};function N(i){T=T||z();var r=this instanceof T;if(!r&&!W.call(N,this))return new N(i);this._writableState=new O(i,this,r),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),C.call(this)}N.prototype.pipe=function(){v(this,new y)};function A(i,r){var o=new R;v(i,o),j.nextTick(r,o)}function B(i,r,o,S){var D;return o===null?D=new c:typeof o!="string"&&!r.objectMode&&(D=new d("chunk",["string","Buffer"],o)),D?(v(i,D),j.nextTick(S,D),!1):!0}N.prototype.write=function(i,r,o){var S=this._writableState,D=!1,e=!S.objectMode&&a(i);return e&&!q.isBuffer(i)&&(i=h(i)),typeof r=="function"&&(o=r,r=null),e?r="buffer":r||(r=S.defaultEncoding),typeof o!="function"&&(o=m),S.ending?A(this,o):(e||B(this,S,i,o))&&(S.pendingcb++,D=ne(this,S,e,i,r,o)),D},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&H(this,i))},N.prototype.setDefaultEncoding=function(r){if(typeof r=="string"&&(r=r.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((r+"").toLowerCase())>-1))throw new w(r);return this._writableState.defaultEncoding=r,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function $(i,r,o){return!i.objectMode&&i.decodeStrings!==!1&&typeof r=="string"&&(r=q.from(r,o)),r}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ne(i,r,o,S,D,e){if(!o){var t=$(r,S,D);S!==t&&(o=!0,D="buffer",S=t)}var f=r.objectMode?1:S.length;r.length+=f;var _=r.length<r.highWaterMark;if(_||(r.needDrain=!0),r.writing||r.corked){var k=r.lastBufferedRequest;r.lastBufferedRequest={chunk:S,encoding:D,isBuf:o,callback:e,next:null},k?k.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else F(i,r,!1,f,S,D,e);return _}function F(i,r,o,S,D,e,t){r.writelen=S,r.writecb=t,r.writing=!0,r.sync=!0,r.destroyed?r.onwrite(new s("write")):o?i._writev(D,r.onwrite):i._write(D,e,r.onwrite),r.sync=!1}function ae(i,r,o,S,D){--r.pendingcb,o?(j.nextTick(D,S),j.nextTick(U,i,r),i._writableState.errorEmitted=!0,v(i,S)):(D(S),i._writableState.errorEmitted=!0,v(i,S),U(i,r))}function Q(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function fe(i,r){var o=i._writableState,S=o.sync,D=o.writecb;if(typeof D!="function")throw new p;if(Q(o),r)ae(i,o,S,r,D);else{var e=ee(o)||i.destroyed;!e&&!o.corked&&!o.bufferProcessing&&o.bufferedRequest&&H(i,o),S?j.nextTick(x,i,o,e,D):x(i,o,e,D)}}function x(i,r,o,S){o||Z(i,r),r.pendingcb--,S(),U(i,r)}function Z(i,r){r.length===0&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))}function H(i,r){r.bufferProcessing=!0;var o=r.bufferedRequest;if(i._writev&&o&&o.next){var S=r.bufferedRequestCount,D=new Array(S),e=r.corkedRequestsFree;e.entry=o;for(var t=0,f=!0;o;)D[t]=o,o.isBuf||(f=!1),o=o.next,t+=1;D.allBuffers=f,F(i,r,!0,r.length,D,"",e.finish),r.pendingcb++,r.lastBufferedRequest=null,e.next?(r.corkedRequestsFree=e.next,e.next=null):r.corkedRequestsFree=new L(r),r.bufferedRequestCount=0}else{for(;o;){var _=o.chunk,k=o.encoding,P=o.callback,I=r.objectMode?1:_.length;if(F(i,r,!1,I,_,k,P),o=o.next,r.bufferedRequestCount--,r.writing)break}o===null&&(r.lastBufferedRequest=null)}r.bufferedRequest=o,r.bufferProcessing=!1}N.prototype._write=function(i,r,o){o(new M("_write()"))},N.prototype._writev=null,N.prototype.end=function(i,r,o){var S=this._writableState;return typeof i=="function"?(o=i,i=null,r=null):typeof r=="function"&&(o=r,r=null),i!=null&&this.write(i,r),S.corked&&(S.corked=1,this.uncork()),S.ending||le(this,S,o),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function oe(i,r){i._final(function(o){r.pendingcb--,o&&v(i,o),r.prefinished=!0,i.emit("prefinish"),U(i,r)})}function te(i,r){!r.prefinished&&!r.finalCalled&&(typeof i._final=="function"&&!r.destroyed?(r.pendingcb++,r.finalCalled=!0,j.nextTick(oe,i,r)):(r.prefinished=!0,i.emit("prefinish")))}function U(i,r){var o=ee(r);if(o&&(te(i,r),r.pendingcb===0&&(r.finished=!0,i.emit("finish"),r.autoDestroy))){var S=i._readableState;(!S||S.autoDestroy&&S.endEmitted)&&i.destroy()}return o}function le(i,r,o){r.ending=!0,U(i,r),o&&(r.finished?j.nextTick(o):i.once("finish",o)),r.ended=!0,i.writable=!1}function ue(i,r,o){var S=i.entry;for(i.entry=null;S;){var D=S.callback;r.pendingcb--,D(o),S=S.next}r.corkedRequestsFree.next=i}return Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(r){this._writableState&&(this._writableState.destroyed=r)}}),N.prototype.destroy=n.destroy,N.prototype._undestroy=n.undestroy,N.prototype._destroy=function(i,r){r(i)},ye}var ve,ke;function z(){if(ke)return ve;ke=1;var L=Object.keys||function(u){var g=[];for(var b in u)g.push(b);return g};ve=h;var T=it(),E=et();J()(h,T);for(var C=L(E.prototype),q=0;q<C.length;q++){var l=C[q];h.prototype[l]||(h.prototype[l]=E.prototype[l])}function h(u){if(!(this instanceof h))return new h(u);T.call(this,u),E.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||j.nextTick(n,this)}function n(u){u.end()}return Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),ve}var we,We;function ze(){if(We)return we;We=1;var L=K().codes.ERR_STREAM_PREMATURE_CLOSE;function T(l){var h=!1;return function(){if(!h){h=!0;for(var a=arguments.length,n=new Array(a),u=0;u<a;u++)n[u]=arguments[u];l.apply(this,n)}}}function E(){}function C(l){return l.setHeader&&typeof l.abort=="function"}function q(l,h,a){if(typeof h=="function")return q(l,null,h);h||(h={}),a=T(a||E);var n=h.readable||h.readable!==!1&&l.readable,u=h.writable||h.writable!==!1&&l.writable,g=function(){l.writable||d()},b=l._writableState&&l._writableState.finished,d=function(){u=!1,b=!0,n||a.call(l)},M=l._readableState&&l._readableState.endEmitted,p=function(){n=!1,M=!0,u||a.call(l)},y=function(w){a.call(l,w)},s=function(){var w;if(n&&!M)return(!l._readableState||!l._readableState.ended)&&(w=new L),a.call(l,w);if(u&&!b)return(!l._writableState||!l._writableState.ended)&&(w=new L),a.call(l,w)},c=function(){l.req.on("finish",d)};return C(l)?(l.on("complete",d),l.on("abort",s),l.req?c():l.on("request",c)):u&&!l._writableState&&(l.on("end",g),l.on("close",g)),l.on("end",p),l.on("finish",d),h.error!==!1&&l.on("error",y),l.on("close",s),function(){l.removeListener("complete",d),l.removeListener("abort",s),l.removeListener("request",c),l.req&&l.req.removeListener("finish",d),l.removeListener("end",g),l.removeListener("close",g),l.removeListener("finish",d),l.removeListener("end",p),l.removeListener("error",y),l.removeListener("close",s)}}return we=q,we}var Re,Be;function tt(){if(Be)return Re;Be=1;var L;function T(w,v,m){return v=E(v),v in w?Object.defineProperty(w,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):w[v]=m,w}function E(w){var v=C(w,"string");return typeof v=="symbol"?v:String(v)}function C(w,v){if(typeof w!="object"||w===null)return w;var m=w[Symbol.toPrimitive];if(m!==void 0){var O=m.call(w,v||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}var q=ze(),l=Symbol("lastResolve"),h=Symbol("lastReject"),a=Symbol("error"),n=Symbol("ended"),u=Symbol("lastPromise"),g=Symbol("handlePromise"),b=Symbol("stream");function d(w,v){return{value:w,done:v}}function M(w){var v=w[l];if(v!==null){var m=w[b].read();m!==null&&(w[u]=null,w[l]=null,w[h]=null,v(d(m,!1)))}}function p(w){j.nextTick(M,w)}function y(w,v){return function(m,O){w.then(function(){if(v[n]){m(d(void 0,!0));return}v[g](m,O)},O)}}var s=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((L={get stream(){return this[b]},next:function(){var v=this,m=this[a];if(m!==null)return Promise.reject(m);if(this[n])return Promise.resolve(d(void 0,!0));if(this[b].destroyed)return new Promise(function(A,B){j.nextTick(function(){v[a]?B(v[a]):A(d(void 0,!0))})});var O=this[u],W;if(O)W=new Promise(y(O,this));else{var N=this[b].read();if(N!==null)return Promise.resolve(d(N,!1));W=new Promise(this[g])}return this[u]=W,W}},T(L,Symbol.asyncIterator,function(){return this}),T(L,"return",function(){var v=this;return new Promise(function(m,O){v[b].destroy(null,function(W){if(W){O(W);return}m(d(void 0,!0))})})}),L),s),R=function(v){var m,O=Object.create(c,(m={},T(m,b,{value:v,writable:!0}),T(m,l,{value:null,writable:!0}),T(m,h,{value:null,writable:!0}),T(m,a,{value:null,writable:!0}),T(m,n,{value:v._readableState.endEmitted,writable:!0}),T(m,g,{value:function(N,A){var B=O[b].read();B?(O[u]=null,O[l]=null,O[h]=null,N(d(B,!1))):(O[l]=N,O[h]=A)},writable:!0}),m));return O[u]=null,q(v,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=O[h];N!==null&&(O[u]=null,O[l]=null,O[h]=null,N(W)),O[a]=W;return}var A=O[l];A!==null&&(O[u]=null,O[l]=null,O[h]=null,A(d(void 0,!0))),O[n]=!0}),v.on("readable",p.bind(null,O)),O};return Re=R,Re}var Ee,xe;function rt(){return xe||(xe=1,Ee=function(){throw new Error("Readable.from is not available in the browser")}),Ee}var Se,Ue;function it(){if(Ue)return Se;Ue=1,Se=A;var L;A.ReadableState=N,Ve().EventEmitter;var T=function(t,f){return t.listeners(f).length},E=Ke(),C=Oe.Buffer,q=(typeof ie<"u"?ie:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(e){return C.from(e)}function h(e){return C.isBuffer(e)||e instanceof q}var a=Ye(),n;a&&a.debuglog?n=a.debuglog("stream"):n=function(){};var u=Ze(),g=$e(),b=Xe(),d=b.getHighWaterMark,M=K().codes,p=M.ERR_INVALID_ARG_TYPE,y=M.ERR_STREAM_PUSH_AFTER_EOF,s=M.ERR_METHOD_NOT_IMPLEMENTED,c=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,w,v;J()(A,E);var m=g.errorOrDestroy,O=["error","close","destroy","pause","resume"];function W(e,t,f){if(typeof e.prependListener=="function")return e.prependListener(t,f);!e._events||!e._events[t]?e.on(t,f):Array.isArray(e._events[t])?e._events[t].unshift(f):e._events[t]=[f,e._events[t]]}function N(e,t,f){L=L||z(),e=e||{},typeof f!="boolean"&&(f=t instanceof L),this.objectMode=!!e.objectMode,f&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=d(this,e,"readableHighWaterMark",f),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(R||(R=Pe().StringDecoder),this.decoder=new R(e.encoding),this.encoding=e.encoding)}function A(e){if(L=L||z(),!(this instanceof A))return new A(e);var t=this instanceof L;this._readableState=new N(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),E.call(this)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=g.destroy,A.prototype._undestroy=g.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var f=this._readableState,_;return f.objectMode?_=!0:typeof e=="string"&&(t=t||f.defaultEncoding,t!==f.encoding&&(e=C.from(e,t),t=""),_=!0),B(this,e,t,!1,_)},A.prototype.unshift=function(e){return B(this,e,null,!0,!1)};function B(e,t,f,_,k){n("readableAddChunk",t);var P=e._readableState;if(t===null)P.reading=!1,fe(e,P);else{var I;if(k||(I=ne(P,t)),I)m(e,I);else if(P.objectMode||t&&t.length>0)if(typeof t!="string"&&!P.objectMode&&Object.getPrototypeOf(t)!==C.prototype&&(t=l(t)),_)P.endEmitted?m(e,new c):$(e,P,t,!0);else if(P.ended)m(e,new y);else{if(P.destroyed)return!1;P.reading=!1,P.decoder&&!f?(t=P.decoder.write(t),P.objectMode||t.length!==0?$(e,P,t,!1):H(e,P)):$(e,P,t,!1)}else _||(P.reading=!1,H(e,P))}return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function $(e,t,f,_){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",f)):(t.length+=t.objectMode?1:f.length,_?t.buffer.unshift(f):t.buffer.push(f),t.needReadable&&x(e)),H(e,t)}function ne(e,t){var f;return!h(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(f=new p("chunk",["string","Buffer","Uint8Array"],t)),f}A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(e){R||(R=Pe().StringDecoder);var t=new R(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var f=this._readableState.buffer.head,_="";f!==null;)_+=t.write(f.data),f=f.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var F=1073741824;function ae(e){return e>=F?e=F:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Q(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ae(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}A.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,f=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?o(this):x(this),null;if(e=Q(e,t),e===0&&t.ended)return t.length===0&&o(this),null;var _=t.needReadable;n("need readable",_),(t.length===0||t.length-e<t.highWaterMark)&&(_=!0,n("length less than watermark",_)),t.ended||t.reading?(_=!1,n("reading or ended",_)):_&&(n("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Q(f,t)));var k;return e>0?k=r(e,t):k=null,k===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),f!==e&&t.ended&&o(this)),k!==null&&this.emit("data",k),k};function fe(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var f=t.decoder.end();f&&f.length&&(t.buffer.push(f),t.length+=t.objectMode?1:f.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Z(e)))}}function x(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,j.nextTick(Z,e))}function Z(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,i(e)}function H(e,t){t.readingMore||(t.readingMore=!0,j.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var f=t.length;if(n("maybeReadMore read 0"),e.read(0),f===t.length)break}t.readingMore=!1}A.prototype._read=function(e){m(this,new s("_read()"))},A.prototype.pipe=function(e,t){var f=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=e;break;case 1:_.pipes=[_.pipes,e];break;default:_.pipes.push(e);break}_.pipesCount+=1,n("pipe count=%d opts=%j",_.pipesCount,t);var k=(!t||t.end!==!1)&&e!==j.stdout&&e!==j.stderr,P=k?G:X;_.endEmitted?j.nextTick(P):f.once("end",P),e.on("unpipe",I);function I(V,Y){n("onunpipe"),V===f&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,Je())}function G(){n("onend"),e.end()}var re=oe(f);e.on("drain",re);var Ae=!1;function Je(){n("cleanup"),e.removeListener("close",de),e.removeListener("finish",he),e.removeListener("drain",re),e.removeListener("error",se),e.removeListener("unpipe",I),f.removeListener("end",G),f.removeListener("end",X),f.removeListener("data",Le),Ae=!0,_.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&re()}f.on("data",Le);function Le(V){n("ondata");var Y=e.write(V);n("dest.write",Y),Y===!1&&((_.pipesCount===1&&_.pipes===e||_.pipesCount>1&&D(_.pipes,e)!==-1)&&!Ae&&(n("false write response, pause",_.awaitDrain),_.awaitDrain++),f.pause())}function se(V){n("onerror",V),X(),e.removeListener("error",se),T(e,"error")===0&&m(e,V)}W(e,"error",se);function de(){e.removeListener("finish",he),X()}e.once("close",de);function he(){n("onfinish"),e.removeListener("close",de),X()}e.once("finish",he);function X(){n("unpipe"),f.unpipe(e)}return e.emit("pipe",f),_.flowing||(n("pipe resume"),f.resume()),e};function oe(e){return function(){var f=e._readableState;n("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&T(e,"data")&&(f.flowing=!0,i(e))}}A.prototype.unpipe=function(e){var t=this._readableState,f={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,f),this);if(!e){var _=t.pipes,k=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var P=0;P<k;P++)_[P].emit("unpipe",this,{hasUnpiped:!1});return this}var I=D(t.pipes,e);return I===-1?this:(t.pipes.splice(I,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,f),this)},A.prototype.on=function(e,t){var f=E.prototype.on.call(this,e,t),_=this._readableState;return e==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):e==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,n("on readable",_.length,_.reading),_.length?x(this):_.reading||j.nextTick(U,this)),f},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var f=E.prototype.removeListener.call(this,e,t);return e==="readable"&&j.nextTick(te,this),f},A.prototype.removeAllListeners=function(e){var t=E.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&j.nextTick(te,this),t};function te(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function U(e){n("readable nexttick read 0"),e.read(0)}A.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,le(this,e)),e.paused=!1,this};function le(e,t){t.resumeScheduled||(t.resumeScheduled=!0,j.nextTick(ue,e,t))}function ue(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),i(e),t.flowing&&!t.reading&&e.read(0)}A.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&e.read()!==null;);}A.prototype.wrap=function(e){var t=this,f=this._readableState,_=!1;e.on("end",function(){if(n("wrapped end"),f.decoder&&!f.ended){var I=f.decoder.end();I&&I.length&&t.push(I)}t.push(null)}),e.on("data",function(I){if(n("wrapped data"),f.decoder&&(I=f.decoder.write(I)),!(f.objectMode&&I==null)&&!(!f.objectMode&&(!I||!I.length))){var G=t.push(I);G||(_=!0,e.pause())}});for(var k in e)this[k]===void 0&&typeof e[k]=="function"&&(this[k]=function(G){return function(){return e[G].apply(e,arguments)}}(k));for(var P=0;P<O.length;P++)e.on(O[P],this.emit.bind(this,O[P]));return this._read=function(I){n("wrapped _read",I),_&&(_=!1,e.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=tt()),w(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=r,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function r(e,t){if(t.length===0)return null;var f;return t.objectMode?f=t.buffer.shift():!e||e>=t.length?(t.decoder?f=t.buffer.join(""):t.buffer.length===1?f=t.buffer.first():f=t.buffer.concat(t.length),t.buffer.clear()):f=t.buffer.consume(e,t.decoder),f}function o(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,j.nextTick(S,t,e))}function S(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var f=t._writableState;(!f||f.autoDestroy&&f.finished)&&t.destroy()}}typeof Symbol=="function"&&(A.from=function(e,t){return v===void 0&&(v=rt()),v(A,e,t)});function D(e,t){for(var f=0,_=e.length;f<_;f++)if(e[f]===t)return f;return-1}return Se}var me,Fe;function nt(){if(Fe)return me;Fe=1,me=a;var L=K().codes,T=L.ERR_METHOD_NOT_IMPLEMENTED,E=L.ERR_MULTIPLE_CALLBACK,C=L.ERR_TRANSFORM_ALREADY_TRANSFORMING,q=L.ERR_TRANSFORM_WITH_LENGTH_0,l=z();J()(a,l);function h(g,b){var d=this._transformState;d.transforming=!1;var M=d.writecb;if(M===null)return this.emit("error",new E);d.writechunk=null,d.writecb=null,b!=null&&this.push(b),M(g);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function a(g){if(!(this instanceof a))return new a(g);l.call(this,g),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",n)}function n(){var g=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,d){u(g,b,d)}):u(this,null,null)}a.prototype.push=function(g,b){return this._transformState.needTransform=!1,l.prototype.push.call(this,g,b)},a.prototype._transform=function(g,b,d){d(new T("_transform()"))},a.prototype._write=function(g,b,d){var M=this._transformState;if(M.writecb=d,M.writechunk=g,M.writeencoding=b,!M.transforming){var p=this._readableState;(M.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},a.prototype._read=function(g){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},a.prototype._destroy=function(g,b){l.prototype._destroy.call(this,g,function(d){b(d)})};function u(g,b,d){if(b)return g.emit("error",b);if(d!=null&&g.push(d),g._writableState.length)throw new q;if(g._transformState.transforming)throw new C;return g.push(null)}return me}var Te,He;function ht(){if(He)return Te;He=1,Te=T;var L=nt();J()(T,L);function T(E){if(!(this instanceof T))return new T(E);L.call(this,E)}return T.prototype._transform=function(E,C,q){q(null,E)},Te}var Me,Ge;function ct(){if(Ge)return Me;Ge=1;var L;function T(d){var M=!1;return function(){M||(M=!0,d.apply(void 0,arguments))}}var E=K().codes,C=E.ERR_MISSING_ARGS,q=E.ERR_STREAM_DESTROYED;function l(d){if(d)throw d}function h(d){return d.setHeader&&typeof d.abort=="function"}function a(d,M,p,y){y=T(y);var s=!1;d.on("close",function(){s=!0}),L===void 0&&(L=ze()),L(d,{readable:M,writable:p},function(R){if(R)return y(R);s=!0,y()});var c=!1;return function(R){if(!s&&!c){if(c=!0,h(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();y(R||new q("pipe"))}}}function n(d){d()}function u(d,M){return d.pipe(M)}function g(d){return!d.length||typeof d[d.length-1]!="function"?l:d.pop()}function b(){for(var d=arguments.length,M=new Array(d),p=0;p<d;p++)M[p]=arguments[p];var y=g(M);if(Array.isArray(M[0])&&(M=M[0]),M.length<2)throw new C("streams");var s,c=M.map(function(R,w){var v=w<M.length-1,m=w>0;return a(R,v,m,function(O){s||(s=O),O&&c.forEach(n),!v&&(c.forEach(n),y(s))})});return M.reduce(u)}return Me=b,Me}export{et as a,z as b,nt as c,ht as d,ze as e,ct as f,it as r};

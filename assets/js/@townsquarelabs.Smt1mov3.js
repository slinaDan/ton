import{T as p,a as v,t as C,C as I}from"./@tonconnect.D_8jSbmw.js";import{i as h,d as i,o as l,a as m,h as a,r as u,w as T,p as b,b as U}from"./@vue.FNjadqyM.js";class r extends v{constructor(...n){super(...n),Object.setPrototypeOf(this,r.prototype)}}class c extends r{constructor(...n){super(...n),Object.setPrototypeOf(this,c.prototype)}}function y(t){if(!t)throw new c("You should add <TonConnectUIProvider> on the top of the app to use TonConnect");return!0}function f(){return typeof window<"u"}function w(){return!f()}function d(){const t=h("tonConnectUI"),n=e=>{t&&(t.uiOptions=e)};return w()?[null,()=>{}]:(y(t),[t,n])}const R=i({name:"TonConnectButton",props:{buttonRootId:{type:String,required:!1,default:"ton-connect-button"},className:{type:String,required:!1},styles:{type:Object,required:!1}},setup(t,{slots:n}){const[e,o]=d();return console.log("setup","TonConnectButton"),l(()=>{o({buttonRootId:t.buttonRootId})}),m(()=>{o({buttonRootId:null})}),()=>{var s;return a("div",{class:t.className,id:t.buttonRootId||"",attrs:{id:t.buttonRootId||""},style:{width:"fit-content",...t.styles}},(s=n==null?void 0:n.default)==null?void 0:s.call(n))}}}),j=i({name:"TonConnectUIProvider",props:{options:{type:Object}},setup(t,{slots:n}){console.log("setup");const e=u(null);return f()&&!e.value&&(e.value=new p(t.options)),b("tonConnectUI",e.value),console.log("provide"),()=>a("div",n.default?n.default():"nothing")},render(){return a("div",this.$slots.default?this.$slots.default():"nothing")}});function g(){const[t]=d(),n=u((t==null?void 0:t.wallet)||null),e=o=>{n.value=o};return l(()=>{if(t){n.value=t.wallet;const o=t.onStatusChange(s=>{e(s)});U(()=>{o()})}}),n}function A(t=!0){const n=g(),e=u(""),o=()=>{n.value?e.value=t?C(n.value.account.address,n.value.account.chain===I.TESTNET):n.value.account.address:e.value=""};return T(()=>{o()}),e}function P(){const[t]=d(),n=u((t==null?void 0:t.modal.state)||null);return l(()=>{t&&(n.value=t.modal.state,t.onModalStateChange(e=>{n.value=e}))}),{state:n,open:()=>t==null?void 0:t.modal.open(),close:()=>t==null?void 0:t.modal.close()}}export{j as _,R as a,d as b,P as c,A as u};

import"./@tonconnect.D_8jSbmw.js";import{a as I,u as w,b as V,c as A}from"./@townsquarelabs.Smt1mov3.js";import{_ as k}from"./index.C4RLi-jc.js";import{x as m,y as b,z as a,B as e,C as v,D as y,S as f,r as S,v as _,k as l}from"./@vue.FNjadqyM.js";import{T as C,a as h}from"./vant.Boi1tFQ8.js";import{u as L}from"./vue-i18n.DlSZIkpk.js";import{a as T}from"./axios.DUXOzmMc.js";import"./vite-plugin-node-polyfills.B4DYk75w.js";import"./asn1.js.CF-FLH_W.js";import"./inherits.BICa84dG.js";import"./minimalistic-assert.OF9c2MWr.js";import"./vm-browserify.B6h6MQBh.js";import"./tweetnacl-util.CJYm-bW4.js";import"./tweetnacl.Bl_tIOeF.js";import"./crypto-browserify.DM2wr0xX.js";import"./randombytes.B9W2qcDI.js";import"./safe-buffer.DM0JMpYF.js";import"./create-hash.DW7O4rXN.js";import"./md5.js.B5gf1d4U.js";import"./hash-base.BfxpEvry.js";import"./stream-browserify.BKiowhW5.js";import"./events.DQ172AOg.js";import"./readable-stream.MobckPtF.js";import"./util.B7D3mE8i.js";import"./is-arguments.B2FUINQD.js";import"./has-tostringtag.Dno9QfFs.js";import"./has-symbols.DzeTszVQ.js";import"./call-bind.mAvStapQ.js";import"./get-intrinsic.BbsAV8Ud.js";import"./es-errors.zELpgxky.js";import"./has-proto.3s11jRC3.js";import"./function-bind.CHqF18-c.js";import"./hasown.B1sN64jK.js";import"./set-function-length.BWjIbqwQ.js";import"./define-data-property.B-rGBYsc.js";import"./es-define-property.Cvd-fTj1.js";import"./gopd.CBkuO649.js";import"./has-property-descriptors.CQrpAU9E.js";import"./is-generator-function.CxluLv2p.js";import"./which-typed-array.CqG13jwX.js";import"./for-each.Df9zFL0m.js";import"./is-callable.BYFz_UGF.js";import"./available-typed-arrays.D71b1Hup.js";import"./possible-typed-array-names.BKRybAhF.js";import"./is-typed-array.D_mer7Bf.js";import"./string_decoder.Bvf-nAzU.js";import"./util-deprecate.CbETmsYd.js";import"./ripemd160.CRfDL5kO.js";import"./sha.js.DgBx5qEh.js";import"./cipher-base.C1ly01M8.js";import"./create-hmac.ErTzv0Lu.js";import"./browserify-sign.DqsSmyBe.js";import"./process-nextick-args.DSuUL0kd.js";import"./isarray.aIBLcMhd.js";import"./core-util-is.Ca1qap10.js";import"./browserify-rsa.zGaK9nYx.js";import"./bn.js.D0kDLt-Z.js";import"./elliptic.bqhJRvLL.js";import"./minimalistic-crypto-utils.DpWPKLSp.js";import"./brorand.SggQgI8H.js";import"./hash.js.DWzDmgdx.js";import"./hmac-drbg.DToj7Xfj.js";import"./parse-asn1.cvUmqw_C.js";import"./evp_bytestokey.u6o_3qwg.js";import"./browserify-aes.CrPhZG6v.js";import"./buffer-xor.CIpBBbx2.js";import"./pbkdf2.3DBYPeMi.js";import"./browserify-cipher.My_qNGB_.js";import"./browserify-des.CrWs1aCY.js";import"./des.js.DlfSGbyn.js";import"./diffie-hellman.NY37ZSTO.js";import"./miller-rabin.D2T3EhgJ.js";import"./create-ecdh.DHg3l7fk.js";import"./public-encrypt.C7i8y-gH.js";import"./randomfill.6r5JKIMJ.js";import"./ua-parser-js.PR9HqSp5.js";import"./deepmerge.BuB85GJ7.js";import"./classnames.DFD5LUBl.js";import"./vue-router.CD1qJGbv.js";import"./@vant.DCvzSUSb.js";import"./@intlify.Cx4YZEdP.js";function U(n,t=4,s=5){return n?n.substr(0,t)+"..."+n.substring(n.length-s):""}const B="/imgs/copy.png",P="/imgs/lang.png",M={components:{TonConnectButton:I},async setup(){let n=w();const[t]=V(),s=()=>{t.disconnect(),localStorage.clear()},{open:o}=A();return{userFriendlyAddress:n,logout:s,open:o,sliceAddress:U}}},N={class:"topNav flex-bw"},O={class:"flex"};function D(n,t,s,o,p,c){return m(),b(f,null,{default:a(()=>[e("div",N,[t[4]||(t[4]=e("div",{class:"flex"},[e("img",{class:"logo",src:"",alt:""}),e("span",null,"Babydogeswap")],-1)),e("div",O,[o.userFriendlyAddress?(m(),v("button",{key:0,onClick:t[0]||(t[0]=(...r)=>o.logout&&o.logout(...r))},y(o.sliceAddress(o.userFriendlyAddress)),1)):(m(),v("button",{key:1,onClick:t[1]||(t[1]=(...r)=>o.open&&o.open(...r))},y(n.$t("连接钱包")),1)),t[2]||(t[2]=e("img",{class:"copy",src:B,alt:""},null,-1)),t[3]||(t[3]=e("img",{class:"lang",src:P,alt:""},null,-1))])])]),_:1})}const E=k(M,[["render",D],["__scopeId","data-v-c2fa7c7d"]]),R={components:{TonConnectButton:I,[C.name]:C,[h.name]:h},async setup(){let n=w();const[t]=V(),s=S(0),o={active:"/imgs/tabbar11.png",inactive:"/imgs/tabbar1.png"},p={active:"/imgs/tabbar22.png",inactive:"/imgs/tabbar2.png"},c={active:"/imgs/tabbar33.png",inactive:"/imgs/tabbar3.png"},r={active:"/imgs/tabbar44.png",inactive:"/imgs/tabbar4.png"},d=()=>{t.disconnect(),localStorage.clear()},{open:i}=A();return{userFriendlyAddress:n,logout:d,open:i,sliceAddress:U,icon1:o,icon2:p,icon3:c,icon4:r,active:s}}},$={class:"tabbar"},z=["src"],F=["src"],j=["src"],q=["src"];function X(n,t,s,o,p,c){const r=_("van-tabbar-item"),d=_("van-tabbar");return m(),b(f,null,{default:a(()=>[e("div",$,[l(d,{modelValue:o.active,"onUpdate:modelValue":t[0]||(t[0]=i=>o.active=i),"active-color":"#fff","inactive-color":"#C4C2D8",border:!1},{default:a(()=>[l(r,null,{icon:a(i=>[e("img",{src:i.active?o.icon1.active:o.icon1.inactive},null,8,z)]),default:a(()=>[t[1]||(t[1]=e("span",null,"宠物孵化",-1))]),_:1}),l(r,null,{icon:a(i=>[e("img",{src:i.active?o.icon2.active:o.icon2.inactive},null,8,F)]),default:a(()=>[t[2]||(t[2]=e("span",null,"合成",-1))]),_:1}),l(r,null,{icon:a(i=>[e("img",{src:i.active?o.icon3.active:o.icon3.inactive},null,8,j)]),default:a(()=>[t[3]||(t[3]=e("span",null,"我的宠物",-1))]),_:1}),l(r,null,{icon:a(i=>[e("img",{src:i.active?o.icon4.active:o.icon4.inactive},null,8,q)]),default:a(()=>[t[4]||(t[4]=e("span",null,"宠物孵化",-1))]),_:1})]),_:1},8,["modelValue"])])]),_:1})}const H=k(R,[["render",X],["__scopeId","data-v-f4fb2da6"]]);var W={};const G=W.VUE_APP_MODE;let u,g=window.location.href;if(g.indexOf("192.168")!==-1||g.indexOf("172.16")!==-1||g.indexOf("localhost")!==-1)g="/api/";else switch(G){case"test":u="https://ton.babysdogeswap.net/api";break;case"pre":u="https://ton.babysdogeswap.net";break;case"prod":u="https://ton.babysdogeswap.net";break;default:u="https://ton.babysdogeswap.net";break}const J=u;T.defaults.headers={"X-Requested-With":"XMLHttpRequest","content-type":"multipart/form-data","Access-Control-Allow-Origin":"*",lang:localStorage.getItem("lang")=="en"?"en":"zh-cn"};const x=T.create({baseURL:J,withCredentials:!0,timeout:15e3});x.interceptors.request.use(n=>(n.headers.token=localStorage.token||"",n),n=>Promise.reject(n));x.interceptors.response.use(n=>{if(n.headers.token&&sessionStorage.setItem("token",n.headers.token),n.data.code!=401)return n},n=>n.message?(console.log(1111111111111111e4,location.href.split("#")[0]+"#/login"),Promise.reject(console.log(n.message))):Promise.reject(n));const K="/api/contract";function Q(n){return x({url:K+"/index/index",method:"POST",data:n})}const Y={components:{NavbarVue:E,MyTabbarVue:H},setup(){const{locale:n}=L();async function t(){try{const o=await Q(1);console.log(o)}catch(o){console.error("获取用户数据失败:",o)}}return t(),{changeLang:()=>{let o=["zh-cn","en"],p=localStorage.getItem("lang")||"zh-cn",c=o[+!o.findIndex(r=>r===p)];localStorage.setItem("lang",c),n.value=c}}}},Z={class:"page"};function tt(n,t,s,o,p,c){const r=_("NavbarVue"),d=_("MyTabbarVue");return m(),v("div",Z,[(m(),b(f,null,{default:a(()=>[l(r)]),_:1})),e("div",null,y(n.$t("better")),1),e("button",{onClick:t[0]||(t[0]=(...i)=>o.changeLang&&o.changeLang(...i))},"切换语言"),(m(),b(f,null,{default:a(()=>[l(d)]),_:1}))])}const Uo=k(Y,[["render",tt],["__scopeId","data-v-1f74304e"]]);export{Uo as default};
